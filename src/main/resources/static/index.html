<!DOCTYPE html>
<html>
<head>
    <title>SSE Example</title>
    <script type="text/javascript">
            // EventSource 객체 생성
            const source = new EventSource("/test/sse");

            // 이벤트 핸들러 등록
            source.onmessage = function(event) {
                console.log("Received event: " + event.data);
                let message = JSON.parse(event.data);
                // 받은 메시지를 처리하는 로직 구현
                // 예시: 받은 메시지를 id가 message인 엘리먼트에 추가하기
                let el = document.getElementById("message");
                el.innerHTML += message + "<br>";
            };

            source.addEventListener("web-push", event=>{
                console.log(event.data);
            })
    </script>
</head>
<body>
<div id="message"></div>
<form action="/test/sse">
    <input name="user_id" id="user_id" placeholder="user_id 입력 / Long"/>
    <input name="user_name" id="user_name" placeholder="user_name 입력 / String"/>
    <input name="room_id" id="room_id" placeholder="room_id 입력 / String"/>
    <input name="start_time" id="start_time" placeholder="start_time 입력 / 년-월-일T시:분:초"/>
    <button>전송</button>
</form>
</body>
</html>




